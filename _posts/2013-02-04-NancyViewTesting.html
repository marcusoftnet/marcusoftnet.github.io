---
layout: post
title: Nancy.Testing - testing (razor) views
date: '2013-02-04T08:48:00.000+01:00'
author: Marcus Hammarberg
tags:
- Nancy
- Tools
- .NET
- C#
modified_time: '2014-06-21T02:09:55.449+02:00'
blogger_id: tag:blogger.com,1999:blog-36533086.post-1820569848746353017
blogger_orig_url: http://www.marcusoft.net/2013/02/NancyViewTesting.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">I'm in the middle of writing a blog post series on Nancy.Testing and this bit me a bit (sorry, couldn't resist myself).<br /><br />I have written a lot about how to test web-responses and all the great stuff that comes with it, but totally forgot about view. I assumed that it "just worked". And it does but... well read on. It's really simple.<br /><br /><a name='more'></a><br />Keeping the story short - let's cut to the code:<br /><div><script src="https://gist.github.com/4703358.js"></script></div><br />There's some really important settings to make here. If you don't you'll end up with an (as always in Nancy btw) excellent error message, something like this:<br /><blockquote class="tr_bq"><blockquote class="tr_bq"><span style="font-family: Courier New, Courier, monospace; font-size: x-small;">Nancy.ViewEngines.ViewNotFoundException: Unable to locate view 'FariyTaleFigure'</span></blockquote><blockquote class="tr_bq"><span style="font-family: Courier New, Courier, monospace; font-size: x-small;">Currently available view engine extensions: sshtml,html,htm,cshtml,vbhtml</span></blockquote><blockquote class="tr_bq"><span style="font-family: Courier New, Courier, monospace; font-size: x-small;">Locations inspected: ,,,,,,,,views/SimpleDataModuleWithView/FariyTaleFigure-sv-SE,views/SimpleDataModuleWithView/FariyTaleFigure,SimpleDataModuleWithView/FariyTaleFigure-sv-SE,SimpleDataModuleWithView/FariyTaleFigure,views/FariyTaleFigure-sv-SE,views/FariyTaleFigure,FariyTaleFigure-sv-SE,FariyTaleFigure</span></blockquote><blockquote class="tr_bq"><span style="font-family: Courier New, Courier, monospace; font-size: x-small;">Root path: C:\Dev\DiscoveringNancyThroughTests\DiscoverNancy.Tests\NancyAndSimpleData.Tests\bin\Debug</span></blockquote></blockquote>Oh yeah - the two settings you need to do:<br /><ul style="text-align: left;"><li>First install the Razor (or the view engine of choice) NuGet package:&nbsp;Install-Package Nancy.Viewengines.Razor</li><li>Then set the <a href="https://groups.google.com/forum/?fromgroups=#!searchin/nancy-web-framework/testing$20razor$20views/nancy-web-framework/NE6jFpkdaMM/D8a8N717OqcJ">"Copy to output directory" property to "Copy if newer</a>". You'll reach that setting by hitting F4 on the Razor file, the .cshtml.</li></ul><div>After that it'll "just work".<br /><br />You can read more about the awesome <a href="http://www.marcusoft.net/2013/01/NancyTesting1.html">testing capabilities of Nancy here.</a><br />My code can <a href="https://github.com/marcusoftnet/DiscoveringNancyThroughTests">be found here.</a></div></div>