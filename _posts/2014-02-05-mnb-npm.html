---
layout: post
title: 'Marcus Node Bits: npm is not only for getting packages'
date: '2014-02-05T11:00:00.000+01:00'
author: Marcus Hammarberg
tags:
- MobProgramming
- Javascript
- Tools
modified_time: '2014-06-02T10:56:52.535+02:00'
blogger_id: tag:blogger.com,1999:blog-36533086.post-7472570993991763744
blogger_orig_url: http://www.marcusoft.net/2014/02/mnb-npm.html
---


<div dir="ltr" style="text-align: left;" trbidi="on">I'm writing down some of the things I've picked up when I started to learn about&nbsp;<a href="http://nodejs.org/" target="_blank">Node</a>,&nbsp;<a href="http://expressjs.com/" target="_blank">Express</a>&nbsp;and&nbsp;<a href="http://www.mongodb.org/" target="_blank">Mongo</a>. Here are all the post in the series:
    <br />
    <ul>
        <li><a href="http://www.marcusoft.net/2014/02/mnb-terminal.html" target="_blank">Doing stuff in the terminal is not scary at all</a></li>
        <li>npm is not only for getting packages - this post</li>
        <li><a href="http://www.marcusoft.net/2014/02/mnb-packagejson.html" target="_blank">Package.json is a mighty tool</a></li>
        <li><a href="http://www.marcusoft.net/2014/02/mnb-git.html" target="_blank">Git is not that hard, but I need to refresh my knowledge</a></li>
        <li><a href="http://www.marcusoft.net/2014/02/mnb-callbacks.html" target="_blank">Callback function is cool stuff, and I even know how to write them</a></li>
        <li><span style="color: #0000ee; text-decoration: underline;"><a href="http://www.marcusoft.net/2014/02/mnb-mocha.html" target="_blank">mocha is cool both as framework and test runner</a></span></li>
        <li><a href="http://www.marcusoft.net/2014/02/mnb-should.html" target="_blank">Should is a nice way to do asserts</a>&nbsp;</li>
        <li><a href="http://www.marcusoft.net/2014/02/mnb-monk.html" target="_blank">monk is an easy way to access mongo</a></li>
        <li><a href="http://www.marcusoft.net/2014/02/mnb-express.html" target="_blank">Express is best without generators</a></li>
        <li><a href="http://www.marcusoft.net/2014/02/mnb-supertest.html" target="_blank">supertest is a nice way to test an api</a></li>
    </ul>This post is about the Node Package Manager, npm, and some of it's many features.
    <br />
    <br />
    <a name='more'></a><a href="http://nodejs.org/" target="_blank">Node</a> is really cool, but without it's package management system, <a href="https://npmjs.org/" target="_blank">npm</a>, and the plethora of packages out there it would be pretty bland and probably not as well known.
    <br />
    <br />I will not talk much about the packages out there. They are LEGIO and increases each day. Check out <a href="https://npmjs.org/">https://npmjs.org</a> and be amazed. The packages comes ago almost by the hour. Keeping track of what's hot and what's not is a near impossible task. I usually look and ask around in my network to find out what is worth using and not.
    <br />
    <br />But the npm tool, let's talk about that. The most common commands are of course:
    <br />
    <ul style="text-align: left;">
        <li><span style="font-family: Courier New, Courier, monospace;">npm install</span> - installs all the packages listed under dependencies in<span style="font-family: Courier New, Courier, monospace;"> package.json</span>, into the node_modules folder</li>
        <li><span style="font-family: Courier New, Courier, monospace;">npm install [thePackage] </span>- installs thePackage into your node_modules folder</li>
        <li><span style="font-family: Courier New, Courier, monospace;">npm install [thePackage] -g</span> - installs thePackage gob ally, that is reachable from all the node projects on your machine. This can be useful for tools that you're running from the command line, like mocha for example. I would recommend that you include all tools needed to run your project in the project local node_modules folder. But don't check node_modules into git (ignore it in your .gitignore)</li>
        <li><span style="font-family: Courier New, Courier, monospace;">npm uninstall [thePackage]</span> - well... uninstalls thePackage, of course</li>
        <li><span style="font-family: Courier New, Courier, monospace;">npm update [thePackage]</span> - updates the package to the latest version on <a href="http://npmjs.org/">http://npmjs.org</a></li>
    </ul>What's really cool with npm is that it can be extended, as I mentioned in my <a href="http://www.marcusoft.net/2014/02/mnb-packagejson.html" target="_blank">package.json post</a>. Under the "scripts" node in package.json you can add commands to npm. Here's an example, an extract of a package.json file:
    <br />
    <script src="https://gist.github.com/marcusoftnet/8763123.js"></script>
    <br />These line give you four new subcommands to npm:
    <br />
    <div style="text-align: left;"></div>
    <ul style="text-align: left;">
        <li><span style="font-family: Courier New, Courier, monospace;">npm start </span>- will execute "node app.js" and hence start your app. You can imagine other commands for starting, like</li>
        <li><span style="font-family: Courier New, Courier, monospace;">npm runstart_dev -&nbsp;</span>that starts your staging configuration for example</li>
        <li><span style="font-family: Courier New, Courier, monospace;">npm test</span> - execute the mocha command above. If you need other switches you can just update your package.json.</li>
        <li><span style="font-family: Courier New, Courier, monospace;">npm run test_watch</span>&nbsp;- is one example that adds the "-w" switch and hence is watching my directory for changes and rerun all the tests in it.&nbsp;</li>
    </ul>
    <div>You can of course as many commands as you like. It's a really nice feature if you consider the fact that people who bring your code down will have your commands available to them.&nbsp;</div>
    <br />
    <br />
</div>